{"ast":null,"code":"export class Cell{constructor(board,x,y,color,figure){this.x=void 0;this.y=void 0;this.color=void 0;this.figure=void 0;this.board=void 0;this.available=void 0;this.id=void 0;this.x=x;this.y=y;this.color=color;this.figure=figure;this.board=board;this.available=false;this.id=Math.random();}isEmpty(){return this.figure===null;}isEnemy(target){if(target.figure){var _this$figure;return((_this$figure=this.figure)===null||_this$figure===void 0?void 0:_this$figure.color)!==target.figure.color;}return false;}isEmptyVertical(target){if(this.x!==target.x){return false;}const min=Math.min(this.y,target.y);const max=Math.max(this.y,target.y);for(let y=min+1;y<max;y++){if(!this.board.getCell(this.x,y).isEmpty()){return false;}}return true;}isEmptyHorizontal(target){if(this.y!==target.y){return false;}const min=Math.min(this.x,target.x);const max=Math.max(this.x,target.x);for(let x=min+1;x<max;x++){if(!this.board.getCell(x,this.y).isEmpty()){return false;}}return true;}isEmptyDiagonal(target){const absX=Math.abs(target.x-this.x);const absY=Math.abs(target.y-this.y);if(absY!==absX)return false;const dy=this.y<target.y?1:-1;const dx=this.x<target.x?1:-1;for(let i=1;i<absY;i++){if(!this.board.getCell(this.x+dx*i,this.y+dy*i).isEmpty())return false;}return true;}setFigure(figure){this.figure=figure;this.figure.cell=this;}moveFigure(target){var _this$figure2;if(this.figure&&(_this$figure2=this.figure)!==null&&_this$figure2!==void 0&&_this$figure2.canMove(target)){this.figure.moveFigure(target);target.setFigure(this.figure);this.figure=null;}}}","map":{"version":3,"names":["Cell","constructor","board","x","y","color","figure","available","id","Math","random","isEmpty","isEnemy","target","_this$figure","isEmptyVertical","min","max","getCell","isEmptyHorizontal","isEmptyDiagonal","absX","abs","absY","dy","dx","i","setFigure","cell","moveFigure","_this$figure2","canMove"],"sources":["/home/liza/Рабочий стол/chess-game/chess-app/src/models/Cell.ts"],"sourcesContent":["import { Colors } from \"./Colors\";\nimport { Figure } from \"./figures/Figure\";\nimport { Board } from \"./Board\";\n\nexport class Cell {\n\n    readonly x: number;\n    readonly y: number;\n    readonly color: Colors;\n    figure: Figure | null;\n    board: Board;\n    available: boolean;\n    id: number;\n\n    constructor(board: Board, x: number, y: number, color: Colors, figure: Figure | null) {\n        this.x = x;\n        this.y = y;\n        this.color = color;\n        this.figure = figure;\n        this.board = board;\n        this.available = false;\n        this.id = Math.random()\n    }\n\n    isEmpty(): boolean{\n        return this.figure === null;\n    }\n\n    isEnemy(target: Cell): boolean {\n        if (target.figure) {\n            return this.figure?.color !== target.figure.color;\n        }\n        return false;\n    }\n\n    isEmptyVertical(target: Cell): boolean {\n        if(this.x !== target.x) {\n            return false;\n        }\n\n        const min = Math.min(this.y, target.y);\n        const max = Math.max(this.y, target.y);\n        for (let y = min+1; y < max; y++) {\n            if(!this.board.getCell(this.x, y).isEmpty()) {\n                return false\n            }\n        }\n        return true;\n    }\n\n    isEmptyHorizontal(target: Cell): boolean {\n        if(this.y !== target.y) {\n            return false;\n        }\n\n        const min = Math.min(this.x, target.x);\n        const max = Math.max(this.x, target.x);\n        for (let x = min+1; x < max; x++) {\n            if(!this.board.getCell(x, this.y).isEmpty()) {\n                return false\n            }\n        }\n        return true;\n    }\n    \n    isEmptyDiagonal(target: Cell): boolean {\n        const absX = Math.abs(target.x - this.x);\n        const absY = Math.abs(target.y - this.y);\n        if(absY !== absX)\n            return false;\n\n        const dy = this.y < target.y ? 1 : -1\n        const dx = this.x < target.x ? 1 : -1\n\n        for (let i = 1; i < absY; i++) {\n            if(!this.board.getCell(this.x + dx * i, this.y + dy * i).isEmpty())\n            return false;\n        }\n        return true;\n    }\n\n    setFigure(figure: Figure){\n        this.figure = figure;\n        this.figure.cell = this;\n    }\n\n    moveFigure(target: Cell) {\n        if(this.figure && this.figure?.canMove(target)){\n            this.figure.moveFigure(target)\n            target.setFigure(this.figure);\n            this.figure = null;\n        }\n    }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}