{"ast":null,"code":"import{Figure,FigureNames}from\"./Figure\";import{Colors}from\"../Colors\";import blackLogo from'../../assets/chess-figure/black-pawn.png';import whiteLogo from'../../assets/chess-figure/white-pawn.png';export class Pawn extends Figure{constructor(color,cell){super(color,cell);this.isFirstStep=true;this.logo=color===Colors.BLACK?blackLogo:whiteLogo;this.name=FigureNames.PAWN;}canMove(target){var _this$cell$figure,_this$cell$figure2;if(!super.canMove(target))return false;const direction=((_this$cell$figure=this.cell.figure)===null||_this$cell$figure===void 0?void 0:_this$cell$figure.color)===Colors.BLACK?1:-1;const firstStepDirection=((_this$cell$figure2=this.cell.figure)===null||_this$cell$figure2===void 0?void 0:_this$cell$figure2.color)===Colors.BLACK?2:-2;if((target.y===this.cell.y+direction||this.isFirstStep&&target.y===this.cell.y+firstStepDirection)&&target.x===this.cell.x&&this.cell.board.getCell(target.x,target.y).isEmpty()){return true;}if(target.y===this.cell.y+direction&&(target.x===this.cell.x+1||target.x===this.cell.x-1)&&this.cell.isEnemy(target)){return true;}return false;}moveFigure(target){super.moveFigure(target);this.isFirstStep=false;}}","map":{"version":3,"names":["Figure","FigureNames","Colors","blackLogo","whiteLogo","Pawn","constructor","color","cell","isFirstStep","logo","BLACK","name","PAWN","canMove","target","_this$cell$figure","_this$cell$figure2","direction","figure","firstStepDirection","y","x","board","getCell","isEmpty","isEnemy","moveFigure"],"sources":["/home/liza/Рабочий стол/chess-game/chess-app/src/models/figures/Pawn.ts"],"sourcesContent":["import { Figure, FigureNames } from \"./Figure\";\nimport { Colors } from \"../Colors\";\nimport { Cell } from \"../Cell\";\nimport blackLogo from '../../assets/chess-figure/black-pawn.png';\nimport whiteLogo from '../../assets/chess-figure/white-pawn.png';\n\nexport class Pawn extends Figure {\n\n    isFirstStep: boolean = true;\n\n    constructor (color: Colors, cell: Cell){\n        super(color, cell);\n        this.logo = color === Colors.BLACK ? blackLogo : whiteLogo;\n        this.name = FigureNames.PAWN;\n    }\n\n    canMove(target: Cell): boolean {\n        if (!super.canMove(target))\n            return false;\n        const direction = this.cell.figure?.color === Colors.BLACK ? 1 : -1\n        const firstStepDirection = this.cell.figure?.color === Colors.BLACK ? 2 : -2\n        \n        if((target.y === this.cell.y + direction || this.isFirstStep\n            && (target.y === this.cell.y + firstStepDirection))\n            && target.x === this.cell.x\n            && this.cell.board.getCell(target.x, target.y).isEmpty()) {\n            return true;\n            }\n\n        if(target.y === this.cell.y + direction\n        && (target.x === this.cell.x + 1 || target.x === this.cell.x -1)\n        && this.cell.isEnemy(target)) {\n            return true;\n        }\n\n        return false;\n    }\n\n    moveFigure(target: Cell): void {\n        super.moveFigure(target);\n        this.isFirstStep = false;\n    }\n}"],"mappings":"AAAA,OAASA,MAAM,CAAEC,WAAW,KAAQ,UAAU,CAC9C,OAASC,MAAM,KAAQ,WAAW,CAElC,MAAO,CAAAC,SAAS,KAAM,0CAA0C,CAChE,MAAO,CAAAC,SAAS,KAAM,0CAA0C,CAEhE,MAAO,MAAM,CAAAC,IAAI,QAAS,CAAAL,MAAO,CAI7BM,WAAWA,CAAEC,KAAa,CAAEC,IAAU,CAAC,CACnC,KAAK,CAACD,KAAK,CAAEC,IAAI,CAAC,CAAC,KAHvBC,WAAW,CAAY,IAAI,CAIvB,IAAI,CAACC,IAAI,CAAGH,KAAK,GAAKL,MAAM,CAACS,KAAK,CAAGR,SAAS,CAAGC,SAAS,CAC1D,IAAI,CAACQ,IAAI,CAAGX,WAAW,CAACY,IAAI,CAChC,CAEAC,OAAOA,CAACC,MAAY,CAAW,KAAAC,iBAAA,CAAAC,kBAAA,CAC3B,GAAI,CAAC,KAAK,CAACH,OAAO,CAACC,MAAM,CAAC,CACtB,MAAO,MAAK,CAChB,KAAM,CAAAG,SAAS,CAAG,EAAAF,iBAAA,KAAI,CAACR,IAAI,CAACW,MAAM,UAAAH,iBAAA,iBAAhBA,iBAAA,CAAkBT,KAAK,IAAKL,MAAM,CAACS,KAAK,CAAG,CAAC,CAAG,CAAC,CAAC,CACnE,KAAM,CAAAS,kBAAkB,CAAG,EAAAH,kBAAA,KAAI,CAACT,IAAI,CAACW,MAAM,UAAAF,kBAAA,iBAAhBA,kBAAA,CAAkBV,KAAK,IAAKL,MAAM,CAACS,KAAK,CAAG,CAAC,CAAG,CAAC,CAAC,CAE5E,GAAG,CAACI,MAAM,CAACM,CAAC,GAAK,IAAI,CAACb,IAAI,CAACa,CAAC,CAAGH,SAAS,EAAI,IAAI,CAACT,WAAW,EACpDM,MAAM,CAACM,CAAC,GAAK,IAAI,CAACb,IAAI,CAACa,CAAC,CAAGD,kBAAmB,GAC/CL,MAAM,CAACO,CAAC,GAAK,IAAI,CAACd,IAAI,CAACc,CAAC,EACxB,IAAI,CAACd,IAAI,CAACe,KAAK,CAACC,OAAO,CAACT,MAAM,CAACO,CAAC,CAAEP,MAAM,CAACM,CAAC,CAAC,CAACI,OAAO,CAAC,CAAC,CAAE,CAC1D,MAAO,KAAI,CACX,CAEJ,GAAGV,MAAM,CAACM,CAAC,GAAK,IAAI,CAACb,IAAI,CAACa,CAAC,CAAGH,SAAS,GACnCH,MAAM,CAACO,CAAC,GAAK,IAAI,CAACd,IAAI,CAACc,CAAC,CAAG,CAAC,EAAIP,MAAM,CAACO,CAAC,GAAK,IAAI,CAACd,IAAI,CAACc,CAAC,CAAE,CAAC,CAAC,EAC7D,IAAI,CAACd,IAAI,CAACkB,OAAO,CAACX,MAAM,CAAC,CAAE,CAC1B,MAAO,KAAI,CACf,CAEA,MAAO,MAAK,CAChB,CAEAY,UAAUA,CAACZ,MAAY,CAAQ,CAC3B,KAAK,CAACY,UAAU,CAACZ,MAAM,CAAC,CACxB,IAAI,CAACN,WAAW,CAAG,KAAK,CAC5B,CACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}